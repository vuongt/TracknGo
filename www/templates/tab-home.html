<ion-view view-title="Dashboard" xmlns="http://www.w3.org/1999/html">
  <ion-content class="">
    <div id="map" data-tap-disabled="true"></div>

    <ion-item class="item item-divider">
        <p>{{concerts.length}} concerts aujourd'hui</p>
      <i class="ion-ios-search-strong icon-right" ng-click="openModal()" style="float: right; font-size: 130%"></i>
    </ion-item>
    <ion-item ng-repeat="item in concerts"
              ng-class-even="'concertbackground'" ng-class-odd="'concertbackground-odd'">
      <h2 class = "white">{{item.TITRPROG}}</h2>
      <p><span class="left">Début: {{item.DATDBTDIF|date:'medium':'+0000'}}</span></p>
      <p><span class="left">Fin: {{item.DATFINDIF|date:'medium':'+0000'}}</span></p>
      <p><span class = "right">{{item.NOM}}</span> </p>
      <p><span class = "right">{{item.VILLE}}</span> </p>
      <div>
        <button id="page-button1" class="button button-planning" ui-sref="tab.concertHome({cdeprog: item.CDEPROG, title:item.TITRPROG,datedbt:item.DATDBTDIF,datefin:item.DATFINDIF,location:item.NOM+item.VILLE})">
          J'y vais !
        </button>
        <button id="page-button2" class="button button-planning" ng-click="addPlanning(item.datetime.yyyymmdd(), item.venue, item.title, item.cdeprog, item.id_bit); item.isInPlanning = true" ng-show="!item.isInPlanning" style="margin-left: 5%">
          Ajouter à mon planning
        </button>
        <button id="page-button2" class="button button-planning" ng-click="removePlanning(item.cdeprog, item.id_bit);item.isInPlanning = false" ng-show="item.isInPlanning" style="margin-left: 5%">
          Retirer de mon planning
        </button>
      </div>
    </ion-item>


  </ion-content>
</ion-view>
